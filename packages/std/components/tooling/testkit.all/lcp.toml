schemaVersion = "2.0"
id = "lcod://tooling/testkit/all@0.1.0"
version = "0.1.0"
kind = "component"
summary = "Execute all discovered testkit cases for a given kernel and return an aggregated plan."

[palette]
category = "Testing"
icon = "mdi:clipboard-multiple"
tags = ["test", "automation", "runner"]

[deps]
requires = [
  "lcod://tooling/testkit/discover@0.1.0",
  "lcod://flow/foreach@1",
  "lcod://tooling/script@1"
]

[inputs.kernel]
summary = "Kernel identifier (e.g. rs, node, java). Defaults to rs."
required = false
schema = """{"type":"string"}"""

[inputs.root]
summary = "Relative path containing testkit cases (defaults to tests/testkit)."
required = false
schema = """{"type":"string"}"""

[inputs.projectRoot]
summary = "Absolute path to the repository root (defaults to working directory)."
required = false
schema = """{"type":"string"}"""

[inputs.projectPath]
summary = "Legacy alias for projectRoot."
required = false
schema = """{"type":"string"}"""

[inputs.defaultKernels]
summary = "Fallback kernels when a test descriptor does not specify explicit targets."
required = false
schema = """{"type":"array","items":{"type":"string"}}"""

[inputs.planId]
summary = "Override the aggregated plan identifier."
required = false
schema = """{"type":"string"}"""

[inputs.planName]
summary = "Override the aggregated plan name."
required = false
schema = """{"type":"string"}"""

[inputs.planDescription]
summary = "Optional description attached to the plan."
required = false
schema = """{"type":"string"}"""

[inputs.planMetadata]
summary = "Optional metadata forwarded to the aggregated plan."
required = false
schema = """{"type":"object"}"""

[inputs.directories]
summary = "Optional list of sub-directories within tests/testkit to execute."
required = false
schema = """{"type":"array","items":{"type":"string"}}"""

[inputs.includeHidden]
summary = "Include cases whose descriptors set discoverable=false (default: false)."
required = false
schema = """{"type":"boolean"}"""

[outputs.report]
summary = "Aggregated plan report containing normalized test cases."
schema = """{"type":"object"}"""
