compose:
  - call: lcod://core/json/encode@0.1.0
    in:
      value: $.left
      sortKeys: true
    out:
      encodedLeft: $

  - call: lcod://core/json/encode@0.1.0
    in:
      value: $.right
      sortKeys: true
    out:
      encodedRight: $

  - call: lcod://impl/set@1
    in:
      leftStable: $.encodedLeft.text
      rightStable: $.encodedRight.text
    out:
      leftStable: leftStable
      rightStable: rightStable

  - call: lcod://tooling/value/default_array@0.1.0
    in:
      value:
        - $.leftStable
        - $.rightStable
    out:
      pairValues: resolved

  - call: lcod://tooling/array/find_duplicates@0.1.0
    in:
      items: $.pairValues
    out:
      duplicateValues: duplicates

  - call: lcod://tooling/value/is_defined@0.1.0
    in:
      value: $.duplicateValues.0
    out:
      isEqual: ok

  - call: lcod://impl/set@1
    in:
      result:
        equal: $.isEqual
        left: $.leftStable
        right: $.rightStable
    out:
      result: result
