schemaVersion = "2.0"
id = "lcod://tooling/resolver/register_components@0.1.0"
version = "0.1.0"
kind = "function"
summary = "Register shared resolver helper components via the tooling/resolver/register axiom."

[deps]
requires = [
  "lcod://tooling/script@1",
  "lcod://axiom/path/join@1",
  "lcod://tooling/resolver/register@1"
]

[tool]
name = "Register Resolver Components"
description = "Resolves compose files within lcod-spec and registers them using the tooling/resolver/register@1 axiom."
inputSchema = "schema/register_components.in.json"
outputSchema = "schema/register_components.out.json"

[documentation]
body = "Registers shared resolver helper components (registry loaders, selectors, and resolver utilities) with the runtime. The component expects a `specRoot` pointing to the `lcod-spec` repository and calls the `tooling/resolver/register@1` axiom to publish each compose."

[docs]
readme = "README.md"

[inputs.specRoot]
summary = "Absolute path to the lcod-spec repository containing resolver helpers."
required = false
schema = """{"anyOf":[{"type":"null"},{"type":"string","minLength":1}],"description":"Absolute path to the lcod-spec repository containing resolver helpers."}"""

[outputs.registered]
summary = "Number of components successfully registered."
required = true
schema = """{"type":"integer","minimum":0,"description":"Number of components successfully registered."}"""

[outputs.warnings]
summary = "Warnings emitted while resolving or registering components."
schema = """{"type":"array","items":{"type":"string"},"description":"Warnings emitted while resolving or registering components."}"""
